2023-12-16T00:01:14.906+05:00  INFO 23184 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T00:01:14.910+05:00  INFO 23184 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-16T00:01:14.912+05:00  INFO 23184 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-16T18:34:25.190+05:00  INFO 2692 --- [main] com.example.SecurityApplication          : Starting SecurityApplication using Java 19.0.2 with PID 2692 (C:\Users\ASUS\IdeaProjects\Security\target\classes started by ASUS in C:\Users\ASUS\IdeaProjects\Security)
2023-12-16T18:34:25.198+05:00 DEBUG 2692 --- [main] com.example.SecurityApplication          : Running with Spring Boot v3.0.1, Spring v6.0.3
2023-12-16T18:34:25.199+05:00  INFO 2692 --- [main] com.example.SecurityApplication          : No active profile set, falling back to 1 default profile: "default"
2023-12-16T18:34:26.006+05:00  INFO 2692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-16T18:34:26.054+05:00  INFO 2692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2023-12-16T18:34:26.440+05:00  INFO 2692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2023-12-16T18:34:26.447+05:00  INFO 2692 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-16T18:34:26.447+05:00  INFO 2692 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]
2023-12-16T18:34:26.513+05:00  INFO 2692 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-16T18:34:26.513+05:00  INFO 2692 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1283 ms
2023-12-16T18:34:26.593+05:00  INFO 2692 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-16T18:34:26.626+05:00  INFO 2692 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final
2023-12-16T18:34:26.755+05:00  WARN 2692 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-12-16T18:34:26.832+05:00  INFO 2692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-16T18:34:27.008+05:00  INFO 2692 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@687a0e40
2023-12-16T18:34:27.010+05:00  INFO 2692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-16T18:34:27.049+05:00  INFO 2692 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-12-16T18:34:27.702+05:00  INFO 2692 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-16T18:34:27.709+05:00  INFO 2692 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T18:34:28.081+05:00 DEBUG 2692 --- [main] com.example.config.JwtTokenFilter        : Filter 'jwtTokenFilter' configured for use
2023-12-16T18:34:28.767+05:00  INFO 2692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@481b8d53, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e8426aa, org.springframework.security.web.context.SecurityContextHolderFilter@7c9b0c16, org.springframework.security.web.header.HeaderWriterFilter@2d6cbbdb, org.springframework.security.web.authentication.logout.LogoutFilter@4c5379f5, com.example.config.JwtTokenFilter@10664c3d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@240fa4ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fb3c670, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@752573df, org.springframework.security.web.access.ExceptionTranslationFilter@23f9d0ce, org.springframework.security.web.access.intercept.AuthorizationFilter@32a29361]
2023-12-16T18:34:29.019+05:00  INFO 2692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2023-12-16T18:34:29.028+05:00  INFO 2692 --- [main] com.example.SecurityApplication          : Started SecurityApplication in 4.169 seconds (process running for 5.902)
2023-12-16T18:34:29.059+05:00  INFO 2692 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.5.1 by Redgate
2023-12-16T18:34:29.059+05:00  INFO 2692 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.5.1
2023-12-16T18:34:29.059+05:00  INFO 2692 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-12-16T18:34:29.070+05:00  INFO 2692 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/kun_uz (PostgreSQL 15.2)
2023-12-16T18:34:29.104+05:00  INFO 2692 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.023s)
2023-12-16T18:34:29.112+05:00  INFO 2692 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 3
2023-12-16T18:34:29.112+05:00  INFO 2692 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2023-12-16T18:39:41.970+05:00  INFO 2692 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-12-16T18:39:41.971+05:00  INFO 2692 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-12-16T18:39:41.972+05:00  INFO 2692 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-12-16T18:39:42.059+05:00  INFO 2692 --- [http-nio-8081-exec-1] com.example.controller.AuthController    : Authorization --> com.example.dto.auth.AuthRequestDTO@7c7e1451
2023-12-16T18:46:11.496+05:00  INFO 2692 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T18:46:11.498+05:00  INFO 2692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-16T18:46:11.500+05:00  INFO 2692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-16T18:46:15.733+05:00  INFO 16760 --- [main] com.example.SecurityApplication          : Starting SecurityApplication using Java 19.0.2 with PID 16760 (C:\Users\ASUS\IdeaProjects\Security\target\classes started by ASUS in C:\Users\ASUS\IdeaProjects\Security)
2023-12-16T18:46:15.741+05:00 DEBUG 16760 --- [main] com.example.SecurityApplication          : Running with Spring Boot v3.0.1, Spring v6.0.3
2023-12-16T18:46:15.742+05:00  INFO 16760 --- [main] com.example.SecurityApplication          : No active profile set, falling back to 1 default profile: "default"
2023-12-16T18:46:16.301+05:00  INFO 16760 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-16T18:46:16.366+05:00  INFO 16760 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 4 JPA repository interfaces.
2023-12-16T18:46:16.738+05:00  INFO 16760 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2023-12-16T18:46:16.745+05:00  INFO 16760 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-16T18:46:16.746+05:00  INFO 16760 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]
2023-12-16T18:46:16.810+05:00  INFO 16760 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-16T18:46:16.810+05:00  INFO 16760 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1035 ms
2023-12-16T18:46:16.900+05:00  INFO 16760 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-16T18:46:16.935+05:00  INFO 16760 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final
2023-12-16T18:46:17.059+05:00  WARN 16760 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-12-16T18:46:17.132+05:00  INFO 16760 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-16T18:46:17.244+05:00  INFO 16760 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@b94703b
2023-12-16T18:46:17.246+05:00  INFO 16760 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-16T18:46:17.286+05:00  INFO 16760 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-12-16T18:46:17.930+05:00  INFO 16760 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-16T18:46:17.937+05:00  INFO 16760 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T18:46:18.303+05:00 DEBUG 16760 --- [main] com.example.config.JwtTokenFilter        : Filter 'jwtTokenFilter' configured for use
2023-12-16T18:46:18.982+05:00  INFO 16760 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b3708f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77c1a7ce, org.springframework.security.web.context.SecurityContextHolderFilter@1c4a8c93, org.springframework.security.web.header.HeaderWriterFilter@620260ad, org.springframework.security.web.authentication.logout.LogoutFilter@6b6c882c, com.example.config.JwtTokenFilter@2c3d0ff8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f53e07d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c3ad125, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14a488ed, org.springframework.security.web.access.ExceptionTranslationFilter@14060410, org.springframework.security.web.access.intercept.AuthorizationFilter@6aaed880]
2023-12-16T18:46:19.229+05:00  INFO 16760 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2023-12-16T18:46:19.236+05:00  INFO 16760 --- [main] com.example.SecurityApplication          : Started SecurityApplication in 3.807 seconds (process running for 4.403)
2023-12-16T18:46:19.264+05:00  INFO 16760 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.5.1 by Redgate
2023-12-16T18:46:19.264+05:00  INFO 16760 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.5.1
2023-12-16T18:46:19.265+05:00  INFO 16760 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-12-16T18:46:19.274+05:00  INFO 16760 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/kun_uz (PostgreSQL 15.2)
2023-12-16T18:46:19.309+05:00  INFO 16760 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-12-16T18:46:19.320+05:00 ERROR 16760 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]
	at com.example.SecurityApplication.main(SecurityApplication.java:9) ~[classes/:na]
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 2
-> Applied to database : 1684344405
-> Resolved locally    : 801860586
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:134) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:204) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:128) ~[flyway-core-9.5.1.jar:na]
	at com.example.config.runner.CommandLineAppStartupRunner.run(CommandLineAppStartupRunner.java:16) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-3.0.1.jar:3.0.1]
	... 5 common frames omitted

2023-12-16T18:46:19.337+05:00  INFO 16760 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T18:46:19.338+05:00  INFO 16760 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-16T18:46:19.340+05:00  INFO 16760 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-16T18:53:22.747+05:00  INFO 3104 --- [main] com.example.SecurityApplication          : Starting SecurityApplication using Java 19.0.2 with PID 3104 (C:\Users\ASUS\IdeaProjects\Security\target\classes started by ASUS in C:\Users\ASUS\IdeaProjects\Security)
2023-12-16T18:53:22.756+05:00 DEBUG 3104 --- [main] com.example.SecurityApplication          : Running with Spring Boot v3.0.1, Spring v6.0.3
2023-12-16T18:53:22.756+05:00  INFO 3104 --- [main] com.example.SecurityApplication          : No active profile set, falling back to 1 default profile: "default"
2023-12-16T18:53:23.283+05:00  INFO 3104 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-16T18:53:23.342+05:00  INFO 3104 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 4 JPA repository interfaces.
2023-12-16T18:53:23.732+05:00  INFO 3104 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2023-12-16T18:53:23.738+05:00  INFO 3104 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-16T18:53:23.738+05:00  INFO 3104 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]
2023-12-16T18:53:23.796+05:00  INFO 3104 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-16T18:53:23.796+05:00  INFO 3104 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1011 ms
2023-12-16T18:53:23.878+05:00  INFO 3104 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-16T18:53:23.917+05:00  INFO 3104 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final
2023-12-16T18:53:24.042+05:00  WARN 3104 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-12-16T18:53:24.114+05:00  INFO 3104 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-16T18:53:24.225+05:00  INFO 3104 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@50ff7063
2023-12-16T18:53:24.227+05:00  INFO 3104 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-16T18:53:24.264+05:00  INFO 3104 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-12-16T18:53:24.891+05:00  INFO 3104 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-16T18:53:24.898+05:00  INFO 3104 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T18:53:25.271+05:00 DEBUG 3104 --- [main] com.example.config.JwtTokenFilter        : Filter 'jwtTokenFilter' configured for use
2023-12-16T18:53:25.950+05:00  INFO 3104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4690a37e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23f27434, org.springframework.security.web.context.SecurityContextHolderFilter@359903b6, org.springframework.security.web.header.HeaderWriterFilter@8d5b303, org.springframework.security.web.authentication.logout.LogoutFilter@4d9ad37e, com.example.config.JwtTokenFilter@227c0cf7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6aaed880, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9bd477c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43e6f05f, org.springframework.security.web.access.ExceptionTranslationFilter@6b6c882c, org.springframework.security.web.access.intercept.AuthorizationFilter@6bc1c8d0]
2023-12-16T18:53:26.203+05:00  INFO 3104 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2023-12-16T18:53:26.210+05:00  INFO 3104 --- [main] com.example.SecurityApplication          : Started SecurityApplication in 3.814 seconds (process running for 4.426)
2023-12-16T18:53:26.241+05:00  INFO 3104 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.5.1 by Redgate
2023-12-16T18:53:26.241+05:00  INFO 3104 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.5.1
2023-12-16T18:53:26.241+05:00  INFO 3104 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-12-16T18:53:26.251+05:00  INFO 3104 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/kun_uz (PostgreSQL 15.2)
2023-12-16T18:53:26.271+05:00  INFO 3104 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 3 migrations (execution time 00:00.009s)
2023-12-16T18:53:26.279+05:00  INFO 3104 --- [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "public"."flyway_schema_history" with baseline ...
2023-12-16T18:53:26.298+05:00  INFO 3104 --- [main] o.f.core.internal.command.DbBaseline     : Successfully baselined schema with version: 1
2023-12-16T18:53:26.306+05:00  INFO 3104 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1
2023-12-16T18:53:26.309+05:00  INFO 3104 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "2 - initAdmin"
2023-12-16T18:53:26.317+05:00 ERROR 3104 --- [main] o.f.core.internal.command.DbMigrate      : Migration of schema "public" to version "2 - initAdmin" failed! Changes successfully rolled back.
2023-12-16T18:53:26.320+05:00  INFO 3104 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-12-16T18:53:26.332+05:00 ERROR 3104 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]
	at com.example.SecurityApplication.main(SecurityApplication.java:9) ~[classes/:na]
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__initAdmin.sql failed
----------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "profile" violates foreign key constraint "fkol7hbk7arjubdo9ce832xe569"
  Detail: Key (photo_id)=(643d5efc-a7ad-4374-a8b0-af5c13a707f1) is not present in table "attach".
Location   : db/migration/V2__initAdmin.sql (C:\Users\ASUS\IdeaProjects\Security\target\classes\db\migration\V2__initAdmin.sql)
Line       : 1
Statement  : INSERT INTO profile(id, created_date, email, name, surname, password, phone, photo_id, role, status)
VALUES (
           3,
           '2023-12-07 23:55:11.160562',
           'raufovmaruf777@gmail.com',
           'Raufov',
           'Maruf',
           'f9919e52ce90b0e41d0f9ced7fb8b3bd', -- Added comma here
           '+998932222077',
           '643d5efc-a7ad-4374-a8b0-af5c13a707f1',
           'ROLE_ADMIN',
           'ACTIVE'   )

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:384) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:274) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:273) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:246) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:141) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:143) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:141) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:98) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:176) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:204) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:128) ~[flyway-core-9.5.1.jar:na]
	at com.example.config.runner.CommandLineAppStartupRunner.run(CommandLineAppStartupRunner.java:16) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-3.0.1.jar:3.0.1]
	... 5 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__initAdmin.sql failed
----------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "profile" violates foreign key constraint "fkol7hbk7arjubdo9ce832xe569"
  Detail: Key (photo_id)=(643d5efc-a7ad-4374-a8b0-af5c13a707f1) is not present in table "attach".
Location   : db/migration/V2__initAdmin.sql (C:\Users\ASUS\IdeaProjects\Security\target\classes\db\migration\V2__initAdmin.sql)
Line       : 1
Statement  : INSERT INTO profile(id, created_date, email, name, surname, password, phone, photo_id, role, status)
VALUES (
           3,
           '2023-12-07 23:55:11.160562',
           'raufovmaruf777@gmail.com',
           'Raufov',
           'Maruf',
           'f9919e52ce90b0e41d0f9ced7fb8b3bd', -- Added comma here
           '+998932222077',
           '643d5efc-a7ad-4374-a8b0-af5c13a707f1',
           'ROLE_ADMIN',
           'ACTIVE'   )

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:376) ~[flyway-core-9.5.1.jar:na]
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "profile" violates foreign key constraint "fkol7hbk7arjubdo9ce832xe569"
  Detail: Key (photo_id)=(643d5efc-a7ad-4374-a8b0-af5c13a707f1) is not present in table "attach".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.1.jar:42.5.1]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210) ~[flyway-core-9.5.1.jar:na]
	... 29 common frames omitted

2023-12-16T18:53:26.349+05:00  INFO 3104 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T18:53:26.351+05:00  INFO 3104 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-16T18:53:26.354+05:00  INFO 3104 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-16T19:00:51.666+05:00  INFO 10668 --- [main] com.example.SecurityApplication          : Starting SecurityApplication using Java 19.0.2 with PID 10668 (C:\Users\ASUS\IdeaProjects\Security\target\classes started by ASUS in C:\Users\ASUS\IdeaProjects\Security)
2023-12-16T19:00:51.673+05:00 DEBUG 10668 --- [main] com.example.SecurityApplication          : Running with Spring Boot v3.0.1, Spring v6.0.3
2023-12-16T19:00:51.674+05:00  INFO 10668 --- [main] com.example.SecurityApplication          : No active profile set, falling back to 1 default profile: "default"
2023-12-16T19:00:52.172+05:00  INFO 10668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-16T19:00:52.230+05:00  INFO 10668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 4 JPA repository interfaces.
2023-12-16T19:00:52.593+05:00  INFO 10668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2023-12-16T19:00:52.600+05:00  INFO 10668 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-16T19:00:52.600+05:00  INFO 10668 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]
2023-12-16T19:00:52.657+05:00  INFO 10668 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-16T19:00:52.657+05:00  INFO 10668 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 956 ms
2023-12-16T19:00:52.742+05:00  INFO 10668 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-16T19:00:52.777+05:00  INFO 10668 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final
2023-12-16T19:00:52.893+05:00  WARN 10668 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-12-16T19:00:52.964+05:00  INFO 10668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-16T19:00:53.073+05:00  INFO 10668 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@a9e8da1
2023-12-16T19:00:53.075+05:00  INFO 10668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-16T19:00:53.110+05:00  INFO 10668 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-12-16T19:00:53.729+05:00  INFO 10668 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-16T19:00:53.735+05:00  INFO 10668 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T19:00:54.107+05:00 DEBUG 10668 --- [main] com.example.config.JwtTokenFilter        : Filter 'jwtTokenFilter' configured for use
2023-12-16T19:00:54.828+05:00  INFO 10668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32a29361, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d6ccad7, org.springframework.security.web.context.SecurityContextHolderFilter@2d6cbbdb, org.springframework.security.web.header.HeaderWriterFilter@6391d34f, org.springframework.security.web.authentication.logout.LogoutFilter@204beb58, com.example.config.JwtTokenFilter@79a92277, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d18d9ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c9b0c16, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d9ad37e, org.springframework.security.web.access.ExceptionTranslationFilter@77b0ff24, org.springframework.security.web.access.intercept.AuthorizationFilter@4af0ae2c]
2023-12-16T19:00:55.081+05:00  INFO 10668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2023-12-16T19:00:55.089+05:00  INFO 10668 --- [main] com.example.SecurityApplication          : Started SecurityApplication in 3.735 seconds (process running for 4.332)
2023-12-16T19:00:55.124+05:00  INFO 10668 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.5.1 by Redgate
2023-12-16T19:00:55.124+05:00  INFO 10668 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.5.1
2023-12-16T19:00:55.124+05:00  INFO 10668 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-12-16T19:00:55.135+05:00  INFO 10668 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/kun_uz (PostgreSQL 15.2)
2023-12-16T19:00:55.156+05:00  INFO 10668 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 3 migrations (execution time 00:00.010s)
2023-12-16T19:00:55.165+05:00  INFO 10668 --- [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "public"."flyway_schema_history" with baseline ...
2023-12-16T19:00:55.182+05:00  INFO 10668 --- [main] o.f.core.internal.command.DbBaseline     : Successfully baselined schema with version: 1
2023-12-16T19:00:55.190+05:00  INFO 10668 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1
2023-12-16T19:00:55.193+05:00  INFO 10668 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "2 - initAdmin"
2023-12-16T19:00:55.201+05:00 ERROR 10668 --- [main] o.f.core.internal.command.DbMigrate      : Migration of schema "public" to version "2 - initAdmin" failed! Changes successfully rolled back.
2023-12-16T19:00:55.204+05:00  INFO 10668 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-12-16T19:00:55.215+05:00 ERROR 10668 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]
	at com.example.SecurityApplication.main(SecurityApplication.java:9) ~[classes/:na]
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__initAdmin.sql failed
----------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "profile" violates foreign key constraint "fkol7hbk7arjubdo9ce832xe569"
  Detail: Key (photo_id)=(643d5efc-a7ad-4374-a8b0-af5c13a707f1) is not present in table "attach".
Location   : db/migration/V2__initAdmin.sql (C:\Users\ASUS\IdeaProjects\Security\target\classes\db\migration\V2__initAdmin.sql)
Line       : 1
Statement  : INSERT INTO profile(id, created_date, email, name, surname, password, phone, photo_id, role, status)
VALUES (
           3,
           '2023-12-07 23:55:11.160562',
           'raufovmaruf777@gmail.com',
           'Raufov',
           'Maruf',
           'f9919e52ce90b0e41d0f9ced7fb8b3bd', -- Added comma here
           '+998932222077',
           '643d5efc-a7ad-4374-a8b0-af5c13a707f1',
           'ROLE_ADMIN',
           'ACTIVE'   )

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:384) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:274) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:273) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:246) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:141) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:143) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:141) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:98) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:176) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:204) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:128) ~[flyway-core-9.5.1.jar:na]
	at com.example.config.runner.CommandLineAppStartupRunner.run(CommandLineAppStartupRunner.java:16) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-3.0.1.jar:3.0.1]
	... 5 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__initAdmin.sql failed
----------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "profile" violates foreign key constraint "fkol7hbk7arjubdo9ce832xe569"
  Detail: Key (photo_id)=(643d5efc-a7ad-4374-a8b0-af5c13a707f1) is not present in table "attach".
Location   : db/migration/V2__initAdmin.sql (C:\Users\ASUS\IdeaProjects\Security\target\classes\db\migration\V2__initAdmin.sql)
Line       : 1
Statement  : INSERT INTO profile(id, created_date, email, name, surname, password, phone, photo_id, role, status)
VALUES (
           3,
           '2023-12-07 23:55:11.160562',
           'raufovmaruf777@gmail.com',
           'Raufov',
           'Maruf',
           'f9919e52ce90b0e41d0f9ced7fb8b3bd', -- Added comma here
           '+998932222077',
           '643d5efc-a7ad-4374-a8b0-af5c13a707f1',
           'ROLE_ADMIN',
           'ACTIVE'   )

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:376) ~[flyway-core-9.5.1.jar:na]
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "profile" violates foreign key constraint "fkol7hbk7arjubdo9ce832xe569"
  Detail: Key (photo_id)=(643d5efc-a7ad-4374-a8b0-af5c13a707f1) is not present in table "attach".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.1.jar:42.5.1]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210) ~[flyway-core-9.5.1.jar:na]
	... 29 common frames omitted

2023-12-16T19:00:55.232+05:00  INFO 10668 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T19:00:55.233+05:00  INFO 10668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-16T19:00:55.235+05:00  INFO 10668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-16T19:05:38.726+05:00  INFO 22692 --- [main] com.example.SecurityApplication          : Starting SecurityApplication using Java 19.0.2 with PID 22692 (C:\Users\ASUS\IdeaProjects\Security\target\classes started by ASUS in C:\Users\ASUS\IdeaProjects\Security)
2023-12-16T19:05:38.734+05:00 DEBUG 22692 --- [main] com.example.SecurityApplication          : Running with Spring Boot v3.0.1, Spring v6.0.3
2023-12-16T19:05:38.735+05:00  INFO 22692 --- [main] com.example.SecurityApplication          : No active profile set, falling back to 1 default profile: "default"
2023-12-16T19:05:39.607+05:00  INFO 22692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-16T19:05:39.673+05:00  INFO 22692 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
2023-12-16T19:05:40.075+05:00  INFO 22692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2023-12-16T19:05:40.081+05:00  INFO 22692 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-16T19:05:40.081+05:00  INFO 22692 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]
2023-12-16T19:05:40.138+05:00  INFO 22692 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-16T19:05:40.139+05:00  INFO 22692 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1377 ms
2023-12-16T19:05:40.216+05:00  INFO 22692 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-16T19:05:40.248+05:00  INFO 22692 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final
2023-12-16T19:05:40.371+05:00  WARN 22692 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-12-16T19:05:40.442+05:00  INFO 22692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-16T19:05:40.559+05:00  INFO 22692 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c3c453b
2023-12-16T19:05:40.561+05:00  INFO 22692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-16T19:05:40.600+05:00  INFO 22692 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-12-16T19:05:41.252+05:00  INFO 22692 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-16T19:05:41.258+05:00  INFO 22692 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T19:05:41.619+05:00 DEBUG 22692 --- [main] com.example.config.JwtTokenFilter        : Filter 'jwtTokenFilter' configured for use
2023-12-16T19:05:42.291+05:00  INFO 22692 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a70acd5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@475fb7, org.springframework.security.web.context.SecurityContextHolderFilter@204beb58, org.springframework.security.web.header.HeaderWriterFilter@5efa05f9, org.springframework.security.web.authentication.logout.LogoutFilter@6c27be1d, com.example.config.JwtTokenFilter@68e62b3b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@100d071, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c5379f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41db6e4b, org.springframework.security.web.access.ExceptionTranslationFilter@252f00ba, org.springframework.security.web.access.intercept.AuthorizationFilter@2403c1c5]
2023-12-16T19:05:42.534+05:00  INFO 22692 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2023-12-16T19:05:42.541+05:00  INFO 22692 --- [main] com.example.SecurityApplication          : Started SecurityApplication in 4.092 seconds (process running for 6.427)
2023-12-16T19:05:42.573+05:00  INFO 22692 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.5.1 by Redgate
2023-12-16T19:05:42.573+05:00  INFO 22692 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.5.1
2023-12-16T19:05:42.573+05:00  INFO 22692 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-12-16T19:05:42.588+05:00  INFO 22692 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/kun_uz (PostgreSQL 15.2)
2023-12-16T19:05:42.615+05:00  INFO 22692 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 3 migrations (execution time 00:00.015s)
2023-12-16T19:05:42.624+05:00  INFO 22692 --- [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "public"."flyway_schema_history" with baseline ...
2023-12-16T19:05:42.642+05:00  INFO 22692 --- [main] o.f.core.internal.command.DbBaseline     : Successfully baselined schema with version: 1
2023-12-16T19:05:42.650+05:00  INFO 22692 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1
2023-12-16T19:05:42.654+05:00  INFO 22692 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "2 - initAdmin"
2023-12-16T19:05:42.661+05:00 ERROR 22692 --- [main] o.f.core.internal.command.DbMigrate      : Migration of schema "public" to version "2 - initAdmin" failed! Changes successfully rolled back.
2023-12-16T19:05:42.665+05:00  INFO 22692 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-12-16T19:05:42.677+05:00 ERROR 22692 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to execute CommandLineRunner
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]
	at com.example.SecurityApplication.main(SecurityApplication.java:9) ~[classes/:na]
Caused by: org.flywaydb.core.internal.command.DbMigrate$FlywayMigrateException: Migration V2__initAdmin.sql failed
----------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "profile" violates foreign key constraint "fkol7hbk7arjubdo9ce832xe569"
  Detail: Key (photo_id)=(643d5efc-a7ad-4374-a8b0-af5c13a707f1) is not present in table "attach".
Location   : db/migration/V2__initAdmin.sql (C:\Users\ASUS\IdeaProjects\Security\target\classes\db\migration\V2__initAdmin.sql)
Line       : 1
Statement  : INSERT INTO profile(id, created_date, email, name, surname, password, phone, photo_id, role, status)
VALUES (
           3,
           '2023-12-07 23:55:11.160562',
           'raufovmaruf777@gmail.com',
           'Raufov',
           'Maruf',
           'f9919e52ce90b0e41d0f9ced7fb8b3bd', -- Added comma here
           '+998932222077',
           '643d5efc-a7ad-4374-a8b0-af5c13a707f1',
           'ROLE_ADMIN',
           'ACTIVE'   )

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:384) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:274) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:273) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:246) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:141) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:73) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:56) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:56) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:96) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:143) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:141) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:98) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:176) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:204) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:128) ~[flyway-core-9.5.1.jar:na]
	at com.example.config.runner.CommandLineAppStartupRunner.run(CommandLineAppStartupRunner.java:16) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) ~[spring-boot-3.0.1.jar:3.0.1]
	... 5 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Migration V2__initAdmin.sql failed
----------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "profile" violates foreign key constraint "fkol7hbk7arjubdo9ce832xe569"
  Detail: Key (photo_id)=(643d5efc-a7ad-4374-a8b0-af5c13a707f1) is not present in table "attach".
Location   : db/migration/V2__initAdmin.sql (C:\Users\ASUS\IdeaProjects\Security\target\classes\db\migration\V2__initAdmin.sql)
Line       : 1
Statement  : INSERT INTO profile(id, created_date, email, name, surname, password, phone, photo_id, role, status)
VALUES (
           3,
           '2023-12-07 23:55:11.160562',
           'raufovmaruf777@gmail.com',
           'Raufov',
           'Maruf',
           'f9919e52ce90b0e41d0f9ced7fb8b3bd', -- Added comma here
           '+998932222077',
           '643d5efc-a7ad-4374-a8b0-af5c13a707f1',
           'ROLE_ADMIN',
           'ACTIVE'   )

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:275) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:222) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:126) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:68) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:57) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:27) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:56) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:376) ~[flyway-core-9.5.1.jar:na]
	... 23 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "profile" violates foreign key constraint "fkol7hbk7arjubdo9ce832xe569"
  Detail: Key (photo_id)=(643d5efc-a7ad-4374-a8b0-af5c13a707f1) is not present in table "attach".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.1.jar:42.5.1]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.1.jar:42.5.1]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:201) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:95) ~[flyway-core-9.5.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:210) ~[flyway-core-9.5.1.jar:na]
	... 29 common frames omitted

2023-12-16T19:05:42.694+05:00  INFO 22692 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T19:05:42.695+05:00  INFO 22692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-16T19:05:42.697+05:00  INFO 22692 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-12-16T20:44:13.140+05:00  INFO 16496 --- [main] com.example.SecurityApplication          : Starting SecurityApplication using Java 19.0.2 with PID 16496 (C:\Users\ASUS\IdeaProjects\Security\target\classes started by ASUS in C:\Users\ASUS\IdeaProjects\Security)
2023-12-16T20:44:13.149+05:00 DEBUG 16496 --- [main] com.example.SecurityApplication          : Running with Spring Boot v3.0.1, Spring v6.0.3
2023-12-16T20:44:13.150+05:00  INFO 16496 --- [main] com.example.SecurityApplication          : No active profile set, falling back to 1 default profile: "default"
2023-12-16T20:44:13.937+05:00  INFO 16496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-12-16T20:44:13.984+05:00  INFO 16496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2023-12-16T20:44:14.350+05:00  INFO 16496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2023-12-16T20:44:14.357+05:00  INFO 16496 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-12-16T20:44:14.357+05:00  INFO 16496 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]
2023-12-16T20:44:14.421+05:00  INFO 16496 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-12-16T20:44:14.421+05:00  INFO 16496 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1241 ms
2023-12-16T20:44:14.500+05:00  INFO 16496 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-12-16T20:44:14.533+05:00  INFO 16496 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final
2023-12-16T20:44:14.656+05:00  WARN 16496 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-12-16T20:44:14.731+05:00  INFO 16496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-12-16T20:44:14.852+05:00  INFO 16496 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@b94703b
2023-12-16T20:44:14.853+05:00  INFO 16496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-12-16T20:44:14.893+05:00  INFO 16496 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2023-12-16T20:44:15.510+05:00  INFO 16496 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-12-16T20:44:15.516+05:00  INFO 16496 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T20:44:15.883+05:00 DEBUG 16496 --- [main] com.example.config.JwtTokenFilter        : Filter 'jwtTokenFilter' configured for use
2023-12-16T20:44:16.551+05:00  INFO 16496 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b3708f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77c1a7ce, org.springframework.security.web.context.SecurityContextHolderFilter@1c4a8c93, org.springframework.security.web.header.HeaderWriterFilter@620260ad, org.springframework.security.web.authentication.logout.LogoutFilter@6b6c882c, com.example.config.JwtTokenFilter@2c3d0ff8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f53e07d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c3ad125, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14a488ed, org.springframework.security.web.access.ExceptionTranslationFilter@14060410, org.springframework.security.web.access.intercept.AuthorizationFilter@6aaed880]
2023-12-16T20:44:16.795+05:00  INFO 16496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2023-12-16T20:44:16.801+05:00  INFO 16496 --- [main] com.example.SecurityApplication          : Started SecurityApplication in 3.981 seconds (process running for 4.73)
2023-12-16T20:44:16.831+05:00  INFO 16496 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.5.1 by Redgate
2023-12-16T20:44:16.831+05:00  INFO 16496 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.5.1
2023-12-16T20:44:16.831+05:00  INFO 16496 --- [main] o.f.c.internal.license.VersionPrinter    : 
2023-12-16T20:44:16.840+05:00  INFO 16496 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://localhost:5432/kun_uz (PostgreSQL 15.2)
2023-12-16T20:44:16.864+05:00  INFO 16496 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 3 migrations (execution time 00:00.014s)
2023-12-16T20:44:16.873+05:00  INFO 16496 --- [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "public"."flyway_schema_history" with baseline ...
2023-12-16T20:44:16.890+05:00  INFO 16496 --- [main] o.f.core.internal.command.DbBaseline     : Successfully baselined schema with version: 1
2023-12-16T20:44:16.899+05:00  INFO 16496 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 1
2023-12-16T20:44:16.903+05:00  INFO 16496 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "2 - initAdmin"
2023-12-16T20:44:16.911+05:00  INFO 16496 --- [main] o.f.core.internal.command.DbMigrate      : Migrating schema "public" to version "3 - initRegion"
2023-12-16T20:44:16.914+05:00  INFO 16496 --- [main] o.f.core.internal.command.DbMigrate      : Successfully applied 2 migrations to schema "public", now at version v3 (execution time 00:00.020s)
2023-12-16T20:44:51.964+05:00  INFO 16496 --- [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-12-16T20:44:51.965+05:00  INFO 16496 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-12-16T20:44:51.966+05:00  INFO 16496 --- [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-12-16T20:50:44.915+05:00  INFO 16496 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-12-16T20:50:44.917+05:00  INFO 16496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-12-16T20:50:44.919+05:00  INFO 16496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
